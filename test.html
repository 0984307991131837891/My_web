<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .floatEventInfo {
            /* 設為浮動在最上方 ( navbar 選單下 ) */
            position: fixed;
            top: 56px;
            /* // 顯示在最上層 ( 但不能比 navbar 還高 ) */
            z-index: 50;
            /* // 寬度自定 ( 此為和原本區塊盡量一致 ) */
            width: calc(100vw - 30px);
            /* //為 Float 區塊加上陰影 */
            box-shadow: rgb(204, 204, 204) 3px 3px 6px 3px;
        }
    </style>
</head>

<body>
    <!-- 浮動活動資訊 -->
    <div class="bg-white p-2 floatEventInfo" style="display:none">
        一些資訊 ....
    </div>

    <!-- 非浮動活動資訊 ( 原本就在畫面上的 ) -->
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <div class="bg-white p-2 EventInfo">
        一些資訊 ....
    </div>
    <script>
        $(function () {
            SetFloatEventInfoVisiable();

            $(window).scroll(function () {
                SetFloatEventInfoVisiable();
            });
        })

        // 設定浮動活動資訊的可見度
        function SetFloatEventInfoVisiable() {
            //console.log("isInView ? " + isScrolledIntoView($('.EventInfo')));

            if (isScrolledIntoView($('.EventInfo'))) {
                $(".floatEventInfo").css("display", "none");
            }
            else {
                $(".floatEventInfo").css("display", "block");
            }
        }

        // 判斷元素是否在畫面中
        function isScrolledIntoView(elem) {
            // 現在的頁面 ( 顯示body(content)的部分 ) 的最上方 ( 最上方 + header navbar 的高 )
            var docViewTop = $(window).scrollTop() + $("#main_header > .navbar").height();
            // 現在的頁面 ( 顯示body(content)的部分 ) 的最下方 ( 最上方 + 一個畫面能顯示多少 - Footer 的高 )
            var docViewBottom = docViewTop + $(window).height() - $("#main_footer").height();
            // 元素頂部的位置
            var elemTop = $(elem).offset().top;
            // 元素底部的位置
            var elemBottom = elemTop + $(elem).height();
            // 若 elemTop 或是 eleBottom 在 docTop ~ dovBottom 的範圍中，就算存在於畫面中
            return (docViewTop <= elemTop && elemTop <= docViewBottom) || (docViewTop <= elemBottom && elemBottom <= docViewBottom)
        }
    </script>
</body>

</html>